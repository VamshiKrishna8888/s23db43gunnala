extends layout

block content
    h1= title
    form(id='musicForm', action="/resource/music", method="POST", style="max-width: 300px; margin: auto; padding: 15px; border: 1px solid #ddd; border-radius: 5px; box-shadow: 0 0 8px rgba(0, 0, 0, 0.1); background-color: #add8e6;")
        div.form-group(style="margin-bottom: 15px;")
            label.musicAttr(for='name', style="display: block; font-size: 14px; color: #333; margin-bottom: 5px;") Music Type
            input#name(type='text', name='name', style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 3px; font-size: 14px;")

        div.form-group(style="margin-bottom: 15px;")
            label.musicAttr(for='No_of_songs', style="display: block; font-size: 14px; color: #333; margin-bottom: 5px;") Number of Songs
            input#No_of_songs(type='number', name='No_of_songs', style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 3px; font-size: 14px;")

        div.form-group(style="margin-bottom: 15px;")
            label.musicAttr(for='type', style="display: block; font-size: 14px; color: #333; margin-bottom: 5px;") Music Type
            input#type(type='text', name='type', style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 3px; font-size: 14px;")

        input(type="submit", value="Save", style="background-color: #5cb5e6; color: white; padding: 10px 15px; border: none; border-radius: 3px; cursor: pointer; font-size: 16px;")

    script.
        document.forms['musicForm'].addEventListener('submit', (event) => {
            event.preventDefault();
            // TODO: Add code to show a loading indicator or disable the form during submission
            fetch(event.target.action, {
                method: 'POST',
                body: new URLSearchParams(new FormData(event.target))
            }).then((resp) => {
                return resp.json();
            }).then((body) => {
                alert("Save succeeded");
                // TODO: Handle the response body as needed
            }).catch((error) => {
                // TODO: Handle the error, show an error message to the user
                alert("Save failed: " + error);
            });
        });
        




